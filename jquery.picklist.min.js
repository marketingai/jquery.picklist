!function(t){t.fn.pickList=function(i){function e(i){var e=this;this.items=[],this.elmt=t("<select />").attr("multiple","multiple").addClass("mai-picklist-list "+i),this.addItem=function(i){var l=t("<option />").attr("value",i[o.columnItemValue]).text(i[o.columnItemText]);return e.elmt.append(l),e.items.push(i),e.items},this.removeItem=function(t){var i=e.items.indexOf(t);return-1!=i&&e.items.splice(i,1),e.items}}function l(i,e){var l=t("<button />").addClass(o.controlButtonClass).appendTo(e).text(i);return l}function s(t,i){var e=t.find("option:selected");e.appendTo(i);for(var l=0;e>l;l++)t.removeItem(e[l]);i.find("option:selected").prop("selected",!1)}function n(t,i){var e=t.find("option");e.appendTo(i),t.items=[],i.find("option:selected").prop("selected",!1)}var a=this,o=t.extend({},t.fn.pickList.defaults,i),d=t("<div />").addClass(o.wrapperClass).appendTo(o.container);this.leftList=new e(o.leftListClass),this.rightList=new e(o.rightListClass),this.leftColumn=t("<div />").addClass(o.leftColumnClass),this.middleColumn=t("<div />").addClass(o.controlColumnClass),this.rightColumn=t("<div />").addClass(o.rightColumnClass),this.addBtn=new l("Add >",this.middleColumn),this.addBtn.on("click",function(t){s(a.leftList.elmt,a.rightList.elmt)}),this.addAllBtn=new l("Add All >>",this.middleColumn),this.addAllBtn.on("click",function(t){n(a.leftList.elmt,a.rightList.elmt)}),this.removeBtn=new l("< Remove",this.middleColumn),this.removeBtn.on("click",function(t){s(a.rightList.elmt,a.leftList.elmt)}),this.removeAllBtn=new l("<< Remove All",this.middleColumn),this.removeAllBtn.on("click",function(t){n(a.rightList.elmt,a.leftList.elmt)}),d.append(this.leftColumn).append(this.middleColumn).append(this.rightColumn),this.leftColumn.append(this.leftList.elmt),this.rightColumn.append(this.rightList.elmt);for(var m=0;m<o.leftListData.length;m++)this.leftList.addItem(o.leftListData[m]);for(var m=0;m<o.rightListData.length;m++)this.rightList.addItem(o.rightListData[m]);return this},t.fn.pickList.defaults={container:"body",wrapperClass:"mai-picklist-wrapper",leftColumnClass:"col-left",controlColumnClass:"col-middle",rightColumnClass:"col-right",controlButtonClass:"mai-picklist-btn",leftListClass:"mai-picklist-leftlist",leftListData:[],rightListData:[],rightListClass:"mai-picklist-rightlist",columnItemValue:"id",columnItemText:"text"}}(jQuery);
